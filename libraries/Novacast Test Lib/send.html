<!DOCTYPE html>
<html lang="en" id="html"> 

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body id="body">
    <input type="text" id="Example Text">
    <button id="hello" onclick="alert('Hello!')">Hi</button>
    <script type="module">
        import '../peer.js';
        var client = prompt("Open r.html (in same dir) and paste the id from it here (it can take a while to get sometimes)")
        var peer = new Peer()
        peer.on('open', (peerId) => {
            console.log(peerId)
        });
        document.addEventListener("click", function (e) {
            e.preventDefault()
            var conn = peer.connect(client);
            conn.on('open', function () {
                conn.send([e.type,e.srcElement.id]);
            });
            if(e.srcElement.hasOwnProperty("click") ){
                eval(e.srcElement.click)
            }
        })
        document.addEventListener("input", function (e) {
            var conn = peer.connect(client);
            conn.on('open', function () {
                conn.send([e.type,e.srcElement.id,e.srcElement.value]);
            });
        })
    </script>
</body>

</html>